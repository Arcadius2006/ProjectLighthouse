@using LBPUnion.ProjectLighthouse.Helpers
@using LBPUnion.ProjectLighthouse.Types
@model LBPUnion.ProjectLighthouse.Pages.Layouts.BaseLayout

@{
    Model!.User = await Model.Database.UserFromWebRequest(Model.Request);

    if (Model.User == null)
    {
        Model.NavigationItems.Add(new PageNavigationItem("Log in", "/login", "user alternate"));
        Model.NavigationItems.Add(new PageNavigationItem("Register", "/register", "user alternate edit"));
    }
    else
    {
        Model.NavigationItems.Add(new PageNavigationItem("Authentication", "/authentication", "key"));
        Model.NavigationItems.Add(new PageNavigationItem("Log out", "/logout", "user alternate slash")); // should always be last
    }
}

<!DOCTYPE html>

<html lang="en">
<head>
    <title>Project Lighthouse</title>
    <link rel="stylesheet" type="text/css" href="~/css/styles.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.8/dist/semantic.min.css">
</head>
<header>
    <div class="ui attached menu">
        <div class="ui container">
            @foreach (PageNavigationItem navigationItem in Model!.NavigationItems)
            {
                <a class="item" href="@navigationItem.Url">
                    @if (navigationItem.Icon != null)
                    {
                        <i class="@navigationItem.Icon icon"></i>
                    }
                    @navigationItem.Name
                </a>
            }
        </div>
    </div>
</header>
<body>
<div class="ui container">
    <br>
    @RenderBody()
</div>
</body>
<footer class="lighthouse-footer">
    <div class="ui black attached inverted segment">
        <div class="ui container">

            <p>Page generated by @GitVersionHelper.FullVersion.</p>
            @if (GitVersionHelper.IsDirty)
            {
                <p>This page was generated using a modified version of Project Lighthouse. Please make sure you are properly disclosing the source code to any users who may be using this instance.</p>
            }
        </div>
    </div>
</footer>
</html>